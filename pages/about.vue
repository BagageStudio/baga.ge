<template>
    <div class="about page secondary" id="about" ref="about">
        <header class="header" id="header">
            <div class="container">
                <NuxtLink to="/">Home</NuxtLink>
                <NuxtLink to="/about" class="active">About</NuxtLink>
            </div>
        </header>
        <div class="container">
            <div id="heroWithImages" class="hero-images">
                <div class="hero">
                    <div class="hero-title wrapper-title full-width">
                        <span class="subtitle content-pad">About</span>
                        <div class="title content-pad">
                            <h1>
                                We are a team of two developers with an
                                expertise in website creation.
                            </h1>
                            <p>
                                <span class="img-shape" id="imgShape"></span>
                                Before starting Bagage, we met in a creative web
                                agency and then worked as separate freelancers.
                                It became clear that we had to create our own
                                studio because we enjoy working with our own
                                clients to share key values and a common
                                strategy.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="images" id="images">
                    <div class="images-inner">
                        <div class="image-gl-wrapper left" id="imgWrap0">
                            <div class="image-gl" id="img0">
                                <img src="~/assets/img/photos/adrien3.jpg" />
                            </div>
                        </div>
                        <div class="image-gl-wrapper middle" id="imgWrap1">
                            <div class="image-gl" id="img1">
                                <img src="~/assets/img/photos/adrien2.jpg" />
                            </div>
                        </div>
                        <div class="image-gl-wrapper right" id="imgWrap2">
                            <div class="image-gl" id="img2">
                                <img src="~/assets/img/photos/adrien3.jpg" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="key-values">
                <div class="key-value-wrapper">
                    <div
                        data-rotate="0"
                        data-opacity="0"
                        class="thingy thingy-1"
                        id="thingyEl1"
                    ></div>
                    <div class="key-value">
                        <h2 class="title-a content-pad">
                            Involve developers in shaping the project, at the
                            very first steps
                        </h2>
                        <p class="content-pad">
                            We have a keen eye for graphic design, and we
                            identify the technical constraints imposed by the
                            web, without limiting our ideas.
                        </p>
                        <p class="content-pad">
                            AD materials such as animations and interactions
                            always serve the meaning of the content. The website
                            is not overwhelmed with animations.
                        </p>
                    </div>
                </div>
                <div class="key-value-wrapper">
                    <div
                        data-rotate="0"
                        data-opacity="0"
                        class="thingy thingy-2"
                        id="thingyEl2"
                    ></div>
                    <div class="key-value">
                        <h2 class="title-a content-pad">
                            Work with you as if we were part of the team
                        </h2>
                        <p class="content-pad">
                            That doesn't mean we understand exactly what you're
                            doing, but it does mean we'll do our best to deliver
                            the best possible result.
                        </p>
                        <p class="content-pad">
                            We're honest, we're looking for the best for you,
                            not the most.
                        </p>
                        <p class="content-pad">
                            Collaboration helps up developing our skills,
                            growing and going beyond our limits.
                        </p>
                    </div>
                </div>
                <div class="key-value-wrapper">
                    <div class="key-value">
                        <h2 class="title-a content-pad">
                            Make sure you can scale afterwards, with or without
                            us
                        </h2>
                        <p class="content-pad">
                            We don't claim authorship for what we do. It is
                            important to us that our work is useful in the long
                            run.
                        </p>
                        <p class="content-pad">
                            We train you to use the CMS we've set up. We
                            transfer knowledge to your developers, the day they
                            join your team. The code is yours.
                        </p>
                    </div>
                </div>
                <div class="key-value-wrapper">
                    <div class="key-value">
                        <h2 class="title-a content-pad">
                            Flexibility and billing arrangements
                        </h2>
                        <p class="content-pad">
                            The team can be composed with in-house developers,
                            other freelancers or agencies, offering of variety
                            of services ranging. From redesigning a simple
                            website to providing long-term support for
                            developing new features.
                        </p>
                        <p class="content-pad">
                            We're based in Nantes, but we can (and love to) move
                            around to meet our customers.
                        </p>
                    </div>
                </div>
                <div class="key-value-wrapper">
                    <div
                        data-rotate="0"
                        data-opacity="0"
                        class="thingy thingy-3"
                        id="thingyEl3"
                    ></div>
                    <div class="key-value">
                        <h2 class="title-a content-pad">
                            Taking the immersive experience a step further
                        </h2>
                        <p class="content-pad">
                            We regularly immerse in digital art, with a strong
                            desire to engage in projects of similar nature.
                        </p>
                        <p class="content-pad">
                            If your idea goes beyond a simple communication
                            need, we're here to help you translate it and make
                            it impactful.
                        </p>
                    </div>
                </div>
            </div>
            <div class="section-keywords">
                <h2 class="title-a content-pad">
                    We use the latest, most efficient and innovative
                    technologies
                </h2>
                <div class="wrapper-keywords">
                    <ul class="keywords">
                        <li>Jamstack</li>
                        <li>WebGL</li>
                        <li>Headless CMS</li>
                        <li>Nuxt</li>
                        <li>Netlify</li>
                        <li>Creative dev</li>
                        <li>Vue.js</li>
                        <li>GLSL</li>
                        <li>DatoCMS</li>
                        <li>Storyblok</li>
                        <li>Prismic</li>
                        <li>Generative</li>
                        <li>3D</li>
                        <li>Stripe</li>
                        <li>Vercel</li>
                        <li>Motion</li>
                        <li>Cloudflare Pages</li>
                        <li>Headless e‑commerce</li>
                        <li>Snipcart</li>
                        <li>GSAP</li>
                        <li>Figma</li>
                        <li>Notion</li>
                        <li>Linear</li>
                        <li>APIs integration</li>
                    </ul>
                </div>
            </div>
            <div class="contact">
                <div class="subtitle">Contact</div>
                <a class="mail" href="mailto:hello@baga.ge">hello@baga.ge</a>
            </div>
        </div>
        <footer id="footer">
            <div class="footer container">
                <p class="internship">
                    We are not taking any internship applications
                    at&nbsp;the&nbsp;moment.
                </p>
                <div class="footer-text">
                    <div class="copyright">©2023</div>
                    <h2 class="based">Based in Nantes</h2>
                </div>
                <div class="social-links">
                    <a
                        href="https://twitter.com/BagageStudio"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Twitter ↗</a
                    >
                    <a
                        href="https://www.linkedin.com/company/bagagestudio/"
                        target="_blank"
                        rel="noopener noreferrer"
                        >LinkedIn ↗</a
                    >
                </div>
            </div>
        </footer>
    </div>
</template>

<script setup>
import { aboutEnter, aboutLeave } from "~/assets/js/transitions/about";

const about = ref(null);

onMounted(async () => {
    const initialLoad =
        !document.documentElement.classList.contains("already-loaded");
    if (initialLoad) {
        aboutEnter(about.value);
        document.documentElement.classList.add("already-loaded");
    }
});

useHead({
    meta: [
        {
            property: "og:image",
            content: "https://baga.ge/bagage-dark.jpg",
        },
        {
            property: "og:image:secure_url",
            content: "https://baga.ge/bagage-dark.jpg",
        },
    ],
    link: [
        {
            rel: "icon",
            href: "/icon-dark.svg",
            type: "image/svg+xml",
        },
        {
            rel: "apple-touch-icon",
            href: "/apple-touch-icon-dark.png",
        },
        {
            rel: "manifest",
            href: "/manifest-dark.webmanifest",
        },
        {
            rel: "mask-icon",
            href: "/safari-pinned-tab.svg",
            color: "#000000",
        },
    ],
});

definePageMeta({
    scrollToTop: true,
    pageTransition: {
        name: "about",
        mode: "out-in",
        onEnter: (el, done) => {
            aboutEnter(el, done);
        },
        onLeave: (el, done) => {
            aboutLeave(done);
        },
    },
});
</script>

<style lang="scss" scoped>
.hero-title {
    .title {
        > h1,
        > p {
            display: inline;
        }
    }
}
.hero-images {
    position: relative;
    transform: translateY(calc(100vh - 33vw));
    margin-bottom: 80vw;
}

.images {
    position: absolute;
    display: flex;
    justify-content: flex-end;
    visibility: hidden;
    img {
        max-width: 100%;
        height: auto;
    }
}

.images-inner {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    flex-shrink: 0;
    width: 150%;
}

.image-gl-wrapper {
    flex-shrink: 0;
    padding-left: 12px;
    padding-right: 12px;
    &.left {
        width: calc(33% - 50px);
        margin-top: 225px;
        transform: scale(0.7);
        transform-origin: 0% 0%;
    }
    &.middle {
        width: calc(33% - 50px);
        transform-origin: 100% 0%;
        transform: scale(1.3);
    }
    &.right {
        width: calc(33% - 50px);
        margin-top: -225px;
        transform-origin: 0% 100%;
        transform: scale(1);
    }
}

.key-value-wrapper {
    &:not(:last-child) {
        margin-bottom: 150px;
    }
}
.key-value {
    .title-a {
        margin-bottom: 30px;
    }
    p {
        position: relative;
        margin-left: 1.5em;
        &::before {
            position: absolute;
            top: 0;
            left: calc(var(--gutter) - 1.5em);
            content: "↦";
        }
        &:not(:last-child) {
            margin-bottom: 20px;
        }
    }
}

.thingy {
    display: none;
}

.section-keywords {
    margin-top: 150px;
}
.keywords {
    margin: 30px 0 0;
    padding: 0;
    list-style: none;
    > li {
        margin: 10px 0;
        padding: 0 var(--gutter);
        font-size: 2rem;
        line-height: 1;
    }
}

@media (min-width: $phone) {
    .keywords {
        margin-top: 60px;
        > li {
            font-size: 2.6rem;
        }
    }
    .key-value {
        p {
            width: percentage(math.div(2, 3));
            margin-left: percentage(math.div(1, 3));
        }
    }
}
@media (min-width: $tablet) {
    .key-value {
        .title-a {
            width: percentage(math.div(2, 3));
        }
    }
    .section-keywords {
        .title-a {
            width: percentage(math.div(2, 3));
        }
    }
    .wrapper-keywords {
        position: relative;
        &::before,
        &::after {
            position: absolute;
            top: 0;
            bottom: 0;
            border-right: 1px solid #343434;
        }
        &::before {
            content: "";
            left: 50%;
        }
    }
    .keywords {
        display: flex;
        flex-wrap: wrap;
        padding: 30px 0;
        > li {
            flex: 0 0 auto;
            width: 50%;
            &:nth-child(2n) {
                // padding-left: calc(var(--gutter) * 2);
            }
        }
    }
}
@media (min-width: $desktop-small) {
    .key-value {
        .title-a {
            width: percentage(math.div(2, 3));
        }
    }
}
@media (min-width: $desktop) {
    .thingy {
        display: block;
        // visibility: hidden;
        // opacity: 0.3;
        background-color: red;
        opacity: 0;
    }

    .wrapper-keywords {
        &::before {
            left: percentage(math.div(1, 3));
        }
        &::after {
            content: "";
            left: percentage(math.div(2, 3));
        }
    }
    .keywords {
        > li {
            width: percentage(math.div(1, 3));
            &:nth-child(2n) {
                // padding-left: var(--gutter);
            }
            &:nth-child(3n + 2),
            &:nth-child(3n + 3) {
                // padding-left: calc(var(--gutter) * 2);
            }
        }
    }

    .thingy-1 {
        position: absolute;
        top: -500px;
        right: -550px;
        width: 1200px;
        height: 1200px;
    }
    .thingy-2 {
        position: absolute;
        top: 0px;
        left: -600px;
        width: 1200px;
        height: 1200px;
    }
    .thingy-3 {
        position: absolute;
        top: -500px;
        right: -550px;
        width: 1200px;
        height: 1200px;
    }
    .key-value-wrapper {
        position: relative;
        &:not(:last-child) {
            margin-bottom: 225px;
        }
        &:nth-child(2) .key-value {
            margin-left: percentage(math.div(1, 6));
        }
        &:nth-child(3) .key-value {
            margin-left: percentage(math.div(2, 6));
        }
        &:nth-child(4) .key-value {
            margin-left: percentage(math.div(1, 6));
        }
    }
    .key-value {
        width: percentage(math.div(4, 6));
        .title-a {
            width: percentage(math.div(3, 4));
            margin-bottom: 40px;
        }
        p {
            width: percentage(math.div(3, 4));
            margin-left: percentage(math.div(1, 4));
            &:not(:last-child) {
                margin-bottom: 25px;
            }
        }
    }
    .section-keywords {
        .title-a {
            width: percentage(math.div(3, 6));
        }
    }
}
@media (min-width: $desktop-3xl) {
    .key-value-wrapper {
        &:nth-child(2) .key-value {
            margin-left: percentage(math.div(1.5, 6));
        }
        &:nth-child(3) .key-value {
            margin-left: percentage(math.div(3, 6));
        }
        &:nth-child(4) .key-value {
            margin-left: percentage(math.div(1.5, 6));
        }
    }

    .key-value {
        width: percentage(math.div(3, 6));
        .title-a {
            width: percentage(math.div(2, 3));
        }
        p {
            width: percentage(math.div(2, 3));
            margin-left: percentage(math.div(1, 3));
        }
    }
    .wrapper-keywords {
        width: percentage(math.div(5, 6));
        margin-left: auto;
        margin-right: auto;
    }
}

////////////////////////////////////////////
/////////// img-shape responsive ///////////
////////////////////////////////////////////
.img-shape {
    --line-height: 26px;
    float: right;
    width: 150px;
    aspect-ratio: 1 / 1.5;
    margin-left: var(--gutter);
    // outline: 1px solid red;
    shape-margin: 20px;
    margin-top: calc(var(--line-height) * 8);
    shape-outside: inset(calc(var(--line-height) * 8) 0 0 0);
}

@media (min-width: 430px) {
    .img-shape {
        width: 200px;
        // margin-top: 240px;
        // shape-outside: inset(240px 0 0 0);
        margin-top: calc(var(--line-height) * 6);
        shape-outside: inset(calc(var(--line-height) * 6) 0 0 0);
    }
}
@media (min-width: 450px) {
    .img-shape {
        --line-height: 30px;
        width: 200px;
        margin-top: calc(var(--line-height) * 6);
        shape-outside: inset(calc(var(--line-height) * 6) 0 0 0);
    }
}
@media (min-width: 450px) {
    .img-shape {
        margin-top: calc(var(--line-height) * 7);
        shape-outside: inset(calc(var(--line-height) * 7) 0 0 0);
    }
}
@media (min-width: 500px) {
    .img-shape {
        margin-top: calc(var(--line-height) * 6);
        shape-outside: inset(calc(var(--line-height) * 6) 0 0 0);
    }
}
@media (min-width: $phone) {
    .img-shape {
        --line-height: 36px;
        width: 250px;
        margin-top: calc(var(--line-height) * 7);
        shape-outside: inset(calc(var(--line-height) * 7) 0 0 0);
    }
}
@media (min-width: 620px) {
    .img-shape {
        width: calc(percentage(math.div(2, 3)) - var(--gutter));
    }
}
@media (min-width: 723px) {
    .img-shape {
        margin-top: calc(var(--line-height) * 6);
        shape-outside: inset(calc(var(--line-height) * 6) 0 0 0);
    }
}
@media (min-width: $tablet) {
    .img-shape {
        --line-height: 42px;
        width: 50%;
        margin-top: calc(var(--line-height) * 7);
        shape-outside: inset(calc(var(--line-height) * 7) 0 0 0);
    }
}
@media (min-width: 820px) {
    .img-shape {
        margin-top: calc(var(--line-height) * 6);
        shape-outside: inset(calc(var(--line-height) * 6) 0 0 0);
    }
}
@media (min-width: 900px) {
    .img-shape {
        width: calc(percentage(math.div(2, 3)) - var(--gutter));
    }
}
@media (min-width: 945px) {
    .img-shape {
        margin-top: calc(var(--line-height) * 5);
        shape-outside: inset(calc(var(--line-height) * 5) 0 0 0);
    }
}
@media (min-width: 1021px) {
    .img-shape {
        margin-top: calc(var(--line-height) * 4);
        shape-outside: inset(calc(var(--line-height) * 4) 0 0 0);
    }
}
@media (min-width: $desktop) {
    .img-shape {
        --line-height: 54px;
        width: calc(percentage(math.div(3, 6)) - (var(--gutter) * 2));
        margin-right: var(--gutter);
        margin-top: calc(var(--line-height) * 5);
        shape-outside: inset(calc(var(--line-height) * 5) 0 0 0);
    }
}
@media (min-width: 1150px) {
    .img-shape {
        margin-top: calc(var(--line-height) * 4);
        shape-outside: inset(calc(var(--line-height) * 4) 0 0 0);
    }
}
@media (min-width: $desktop-xxl) {
    .img-shape {
        width: calc(percentage(math.div(3, 6)) - (var(--gutter)));
        margin-right: 0;
    }
}
@media (min-width: $desktop-3xl) {
    .img-shape {
        margin-top: calc(var(--line-height) * 3);
        shape-outside: inset(calc(var(--line-height) * 3) 0 0 0);
    }
}
</style>
