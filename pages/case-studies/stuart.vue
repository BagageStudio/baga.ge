<template>
    <div
        class="case page"
        id="case"
        ref="caseStudy"
        style="--cs-primary: #0091fe"
        data-id="stuart"
    >
        <Header />
        <div class="case-study-intro">
            <div class="container">
                <div class="col-intro">
                    <div class="wrapper-title" id="wrapperTitle">
                        <span class="subtitle content-pad">Challenge</span>
                        <h1 class="title title-case-study content-pad">
                            Long-term support on the creation and evolution of
                            two sites, following strong growth challenges.
                        </h1>
                    </div>
                    <div
                        class="wrapper-intro-case-study content-pad"
                        id="wrapperIntro"
                    >
                        <p>
                            Stuart is a last-mile delivery platform that
                            connects businesses with independent couriers to
                            provide fast, reliable, and sustainable delivery
                            services.
                        </p>
                        <p>
                            We’ve been working with the great Stuart team since
                            late 2018 and supporting them on many of their
                            projects, and we continue to maintain and evolve
                            their websites to this day.
                        </p>
                        <a
                            href="https://stuart.com/"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="intro-link"
                        >
                            See it live ↗
                        </a>
                    </div>
                </div>
                <div class="col-infos" id="colInfos">
                    <div class="info content-pad">
                        <span class="info-title">Date</span>
                        <span class="info-content">2018 - Present</span>
                    </div>
                    <div class="info content-pad">
                        <span class="info-title">Tech</span>
                        <span class="info-content">
                            <ul>
                                <li>Nuxt</li>
                                <li>DatoCMS</li>
                                <li>Netlify</li>
                                <li>HubSpot</li>
                            </ul>
                        </span>
                    </div>
                    <div class="info content-pad">
                        <span class="info-title">Industry</span>
                        <span class="info-content">Last-Mile Delivery</span>
                    </div>
                    <div class="info content-pad">
                        <span class="info-title">Market</span>
                        <span class="info-content">B2B and B2C</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="case-study container">
            <div class="case-study-content">
                <div class="mod wrapper-fifty-fifty reversed">
                    <div class="col-fifty-fifty content-pad">
                        <h2>Initial website development and rebranding</h2>
                        <p>
                            We initially worked with Stuart on the complete
                            development of their website, based on a Jamstack
                            architecture. At the time, sites rendered in SSG
                            (Static Site Generation) with Nuxt were quite rare,
                            and Stuart's main constraint was to use Dato as a
                            CMS.
                        </p>
                        <p>
                            Jamstack (or now Composable architecture) offers
                            many advantages, including:
                        </p>
                        <ul>
                            <li>Improved performance</li>
                            <li>Enhanced security</li>
                            <li>Less expensive web hosting</li>
                        </ul>
                        <p>
                            We then adopted DatoCMS for many other projects.
                            It's constantly improving and bringing more and more
                            great features.
                        </p>
                        <p>
                            Following Stuart's rebrand in 2021, we reworked the
                            site to adapt to the new graphic language. The
                            site's modular construction made it easy to rework
                            the existing layout, modifying typography, colors
                            and illustrations.
                        </p>
                    </div>
                    <div class="col-fifty-fifty col-img square content-pad">
                        <div class="dithered-bg" id="ditherBg1">
                            <img
                                width="1273"
                                height="716"
                                src="~/assets/img/case-studies/stuart/stuart-screen.png"
                                alt=""
                            />
                        </div>
                    </div>
                </div>
                <div class="mod wrapper-img-full content-pad">
                    <img
                        width="1273"
                        height="716"
                        src="~/assets/img/case-studies/stuart/stuart-screen.png"
                        alt=""
                    />
                </div>
                <div class="mod wrapper-fifty-fifty">
                    <div class="col-fifty-fifty content-pad">
                        <h2>
                            Driving Seamless CRM Integration and Marketing
                            Strategy for Stuart's Growth
                        </h2>
                        <p>
                            Since the initial development of the website, we've
                            been supporting Stuart's marketing teams in the
                            implementation of their acquisition strategy.
                        </p>
                        <p>
                            This includes, of course, connecting to the APIs of
                            the various CRMs used by their teams. In this
                            context, we have migrated from Salesforce to
                            HubSpot, and in the CMS we enable the creation of
                            forms that are linked to campaigns, while
                            maintaining a consistent graphic style. At the same
                            time, we've implemented GDPR compliance and
                            analytics, using Piwik PRO.
                        </p>
                    </div>
                    <div class="col-fifty-fifty col-img square content-pad">
                        <img
                            width="1273"
                            height="716"
                            src="~/assets/img/case-studies/stuart/stuart-screen.png"
                            alt=""
                        />
                    </div>
                </div>
                <div class="mod wrapper-testimonial content-pad">
                    <blockquote>
                        <p class="title-a">
                            We've been working together for quite a while now,
                            and throughout this time, Bagage has consistently
                            delivered high-quality work on time and excelled at
                            tackling complex challenges, showcasing exceptional
                            skills. I recommend them to anyone seeking
                            developers who are not only reliable and
                            professional but also innovative and adaptable.
                        </p>
                        <footer>
                            <span class="name">Viktoriia Zakorchemna</span>
                            <span class="job-company"
                                >Web developer — Stuart</span
                            >
                        </footer>
                    </blockquote>
                </div>
                <div class="mod wrapper-fifty-fifty reversed">
                    <div class="col-fifty-fifty content-pad">
                        <h2>
                            Leveraging Modular structure and DatoCMS for
                            Stuart's International Presence
                        </h2>
                        <p>
                            One of Stuart's main challenges in recent years has
                            been to open up its service internationally (UK,
                            Spain, Poland, Portugal and Italy). The modular
                            structure and the use of DatoCMS has enabled us to
                            deploy the site in new languages following precise
                            strategies adapted to the market. These strategies
                            can include, for example:
                        </p>
                        <ul>
                            <li>
                                Translation of certain pages for services
                                offered at the opening of a new market
                            </li>
                            <li>Specific navigations</li>
                            <li>
                                Landings pages created specifically for one or
                                more countries
                            </li>
                        </ul>
                        <p>
                            Technically, adding a locale and translating content
                            is easy with Dato. When fields are defined, they can
                            be made translatable or not. In addition, it's
                            possible to duplicate a page from one locale to
                            another. And last but not least, Dato's advanced
                            role management allows you, for example, to give
                            translators access only to certain types of content.
                        </p>
                        <p>
                            More generally, a large part of our work with Stuart
                            consists of adding new bricks to the site's modular
                            architecture and fine-tuning existing modules.
                        </p>
                    </div>
                    <div class="col-fifty-fifty col-img square content-pad">
                        <div class="dithered-bg">
                            <img
                                width="1273"
                                height="716"
                                src="~/assets/img/case-studies/stuart/stuart-screen.png"
                                alt=""
                            />
                        </div>
                    </div>
                </div>
                <div class="mod wrapper-fifty-fifty">
                    <div class="col-fifty-fifty content-pad">
                        <h2>
                            Stuart's Courier Space Redefined with Nuxt 3 and
                            Dato CMS
                        </h2>
                    </div>
                    <div class="col-fifty-fifty content-pad">
                        <p>
                            In late 2022, early 2023, we worked on the
                            migration/reconstruction of the courier space on an
                            associated sub-domain. The complexity of this
                            exercise lay mainly in the fact that we had to
                            create a new site on a Nuxt 3 (stuart.com is on Nuxt
                            2) and on a new Dato project, while reusing modules
                            present on the B2B site.<br />
                            The registration forms for the courier platform are
                            connected to the Fountain API.
                        </p>
                        <p>
                            We regularly audit both sites with the Seobility
                            tool, which gives us an overall SEO score and
                            solutions for improvement.
                        </p>
                    </div>
                </div>
                <div class="credits">
                    <div class="col-title content-pad">
                        <h2>Credits</h2>
                    </div>
                    <div class="col-credits credits-details">
                        <div class="credits-detail content-pad">
                            <div class="detail-title">Design</div>
                            <span
                                >Stuart in-house team (Pablo Vene, Clara
                                Quinteros, Kathya Gonzales)</span
                            >
                        </div>
                        <div class="credits-detail content-pad">
                            <div class="detail-title">Development</div>
                            <span>Viktoriia Zakorchemna</span>
                            <span>Bagage</span>
                        </div>
                        <div class="credits-detail content-pad">
                            <div class="detail-title">Font</div>
                            <span>Grilli Type</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="contact">
                <div class="subtitle">Contact</div>
                <a class="mail" href="mailto:hello@baga.ge">hello@baga.ge</a>
            </div>
        </div>
        <footer id="footer">
            <div class="footer container">
                <p class="internship">
                    We are not taking any internship applications
                    at&nbsp;the&nbsp;moment.
                </p>
                <div class="footer-text">
                    <div class="copyright">©2023</div>
                    <h2 class="based">Based in Nantes</h2>
                </div>
                <div class="social-links">
                    <a
                        href="https://twitter.com/BagageStudio"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Twitter ↗</a
                    >
                    <a
                        href="https://www.linkedin.com/company/bagagestudio/"
                        target="_blank"
                        rel="noopener noreferrer"
                        >LinkedIn ↗</a
                    >
                </div>
            </div>
        </footer>
    </div>
</template>

<script setup>
import { caseEnter, caseLeave } from "~/assets/js/transitions/case";

const caseStudy = ref(null);

onMounted(async () => {
    const initialLoad =
        !document.documentElement.classList.contains("already-loaded");
    if (initialLoad) {
        caseEnter(caseStudy.value);
        document.documentElement.classList.add("already-loaded");
    }
});

useHead({
    meta: [
        {
            name: "image",
            property: "og:image",
            content: "https://baga.ge/bagage-dark.jpg",
        },
        {
            name: "image",
            property: "og:image:secure_url",
            content: "https://baga.ge/bagage-dark.jpg",
        },
    ],
    link: [
        {
            rel: "icon",
            href: "/icon-dark.svg",
            type: "image/svg+xml",
        },
        {
            rel: "apple-touch-icon",
            href: "/apple-touch-icon-dark.png",
        },
        {
            rel: "manifest",
            href: "/manifest-dark.webmanifest",
        },
        {
            rel: "mask-icon",
            href: "/safari-pinned-tab.svg",
            color: "#000000",
        },
    ],
    htmlAttrs: {
        class: "about-page",
    },
});

definePageMeta({
    scrollToTop: true,
    pageTransition: {
        name: "about",
        mode: "out-in",
        onEnter: (el, done) => {
            caseEnter(el, done);
        },
        onLeave: (el, done) => {
            caseLeave(done);
        },
    },
    middleware(to, from) {
        console.log(to, from);
        // to.meta.pageTransition.name =
        //     +to.params.id > +from.params.id ? "slide-left" : "slide-right";
    },
});
</script>

<style lang="scss" scoped>
.case {
    padding-top: calc(25vw + 100px);
    overflow: hidden;
    --color: #fff;
    color: var(--color);
}
.wrapper-intro-case-study {
    margin-top: 20px;
    transform: translateY(200px) rotateX(-45deg);
    opacity: 0;
    p {
        font-size: 1.8rem;
        line-height: 140%;
        &:not(:last-child) {
            margin-bottom: 1em;
        }
    }
}
.intro-link {
    display: inline-flex;
    margin-top: 15px;
    text-decoration: none;
    color: var(--color);
    text-transform: uppercase;
}
.col-infos {
    margin-top: 30px;
    transform: translateY(200px) rotateX(-45deg);
    opacity: 0;
}
.info {
    font-size: 2.1rem;
    line-height: 120%;
    &:not(:last-child) {
        margin-bottom: 20px;
    }
    > span {
        display: block;
    }
    ul {
        list-style: none;
    }
}
.info-title {
    font-feature-settings: "ss16";
    margin-bottom: 5px;
}
.case-study {
    padding-top: 120px;
    background-color: $black;
}
.case-study-content {
    padding: 0 var(--gutter-out-monolith);
}
footer {
    background-color: $black;
}
.col-credits {
    position: relative;
    padding-bottom: 20px;
    &::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: var(--gutter);
        right: var(--gutter);
        border-bottom: 1px solid var(--color);
    }
}
.credits-detail {
    font-size: 2.1rem;
    &:not(:last-child) {
        margin-bottom: 20px;
    }
    > span {
        display: block;
    }
}
.detail-title {
    margin-bottom: 8px;
    font-feature-settings: "ss16";
    text-transform: uppercase;
}

.case-study-intro {
    padding: 0 0 50px 0;
}

.wrapper-title {
    transform: translateY(200px) rotateX(-45deg);
    opacity: 0;
}

@media (min-width: $tablet) {
    .col-infos {
        display: flex;
        flex-wrap: wrap;
    }
    .info {
        flex: 0 0 auto;
        width: percentage(math.div(1, 3));
    }
    .col-credits {
        display: flex;
        flex-wrap: wrap;
        padding-bottom: 40px;
    }
    .credits-detail {
        flex: 0 0 auto;
        width: 50%;
        &:not(:last-child) {
            margin-bottom: 0;
        }
        margin-bottom: 0;
        &:nth-last-child(n + 3) {
            margin-bottom: 35px;
        }
        > span {
            display: block;
        }
    }
}

@media (min-width: $desktop) {
    .case-study-intro {
        padding-bottom: 100px;
        > .container {
            display: flex;
        }
    }
    .col-intro {
        flex: 0 0 auto;
        width: percentage(math.div(4, 6));
    }
    .title-case-study {
        text-indent: calc(percentage(math.div(1, 4)) + (var(--gutter) / 2));
    }
    .col-infos {
        flex: 0 0 auto;
        width: percentage(math.div(2, 6));
        display: block;
        margin: 0;
    }
    .info {
        width: 100%;
    }
    .credits {
        display: flex;
        align-items: flex-start;
    }
    .col-title {
        flex: 0 0 auto;
        width: percentage(math.div(2, 6));
    }
}

@media (min-width: $desktop-large) {
    .col-intro {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }
    .wrapper-intro-case-study {
        width: percentage(math.div(3, 4));
        margin-top: 40px;
    }
    .intro-link {
        margin-top: 25px;
    }
    .info {
        &:not(:last-child) {
            margin-bottom: 25px;
        }
    }
    .info-title {
        margin-bottom: 8px;
    }
}
</style>
